---
layout: api-page
title: API Console
---

<iframe id="console" src="" width="100%" frameborder="0" height="800"></iframe>
<script type="text/javascript">
<!--
window.addEventListener('message', function(e) {
	alert("data: " + e.data);
  	var message = e.data;
	$('#console').css('height', message);
});


var embeddedConsole = new URI('http://test.portal2.eanadev.org/portal/api/console.html');
var allowedParams = ['function', 'callback', 'query', 'qf', 'profile', 'start', 'rows', 'sort', 'collectionId', 'recordId', 'phrases', 'latMin', 'latMax', 'longMin', 'longMax', 'yearMin', 'yearMax', 'reusability'];

var params = {'embedded' : 'true'};

var uri = new URI();
var parsed = URI.parseQuery(uri.query());
for (i in parsed) {
	if ($.inArray(i, allowedParams)) {
		params[i] = parsed[i];
	}
}
embeddedConsole.query(params);
console.log("embeddedConsole's URL: " + embeddedConsole.toString());
$('#console').attr('src', embeddedConsole.toString());
//-->
</script>
